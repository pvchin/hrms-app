{"ast":null,"code":"var _jsxFileName = \"D:\\\\react-myprojects\\\\hrms-airtable\\\\src\\\\context\\\\leaves_context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useContext, useEffect, useReducer } from \"react\";\nimport axios from \"axios\";\nimport reducer from \"../reducers/leaves_reducer\";\nimport { leaves_url } from \"../utils/constants\";\nimport { SET_EDITLEAVEID, SET_ISLEAVEEDITING_ON, SET_ISLEAVEEDITING_OFF, SET_SINGLELEAVE, GET_LEAVES_BEGIN, GET_LEAVES_SUCCESS, GET_LEAVES_ERROR, GET_SINGLE_LEAVE_BEGIN, GET_SINGLE_LEAVE_SUCCESS, GET_SINGLE_LEAVE_ERROR, GET_SINGLEBATCH_LEAVE_BEGIN, GET_SINGLEBATCH_LEAVE_SUCCESS, GET_SINGLEBATCH_LEAVE_ERROR, ADD_TRAINING_BEGIN, ADD_TRAINING_SUCCESS, ADD_TRAINING_ERROR, DELETE_TRAINING_BEGIN, DELETE_TRAINING_SUCCESS, DELETE_TRAINING_ERROR, UPDATE_TRAINING_BEGIN, UPDATE_TRAINING_SUCCESS, UPDATE_TRAINING_ERROR, RESET_SINGLE_TRAINING, RESET_TABLES } from \"../actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  isTrainingEditing: false,\n  alerttraining: {\n    show: false,\n    msg: \"\",\n    type: \"\"\n  },\n  editTrainingID: null,\n  trainings_loading: false,\n  trainings_error: false,\n  trainings: [],\n  single_training_loading: false,\n  single_training_error: false,\n  single_training: {},\n  singlebatch_training_loading: false,\n  singlebatch_training_error: false,\n  singlebatch_training: {},\n  delete_training_loading: false,\n  delete_training_error: false,\n  update_training_loading: false,\n  update_training_error: false,\n  add_training_loading: false,\n  add_training_error: false // filterValue: \"Female\",\n  // filterfield: \"gender\",\n\n};\nconst TrainingsContext = /*#__PURE__*/React.createContext();\nexport const TrainingsProvider = ({\n  children\n}) => {\n  _s();\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const loadTrainings = async () => {\n    dispatch({\n      type: GET_TRAININGS_BEGIN\n    });\n\n    try {\n      // const res = await fetch(\n      //   `${employees_url}?filterValue=\"${state.filterValue}\"&filterField=\"${state.filterField}\"`\n      // );\n      const res = await fetch(trainings_url); //const { data } = await axios.get(employees_url);\n      //const employees = data;\n\n      const trainings = await res.json();\n      dispatch({\n        type: GET_TRAININGS_SUCCESS,\n        payload: trainings\n      });\n    } catch (error) {\n      dispatch({\n        type: GET_TRAININGS_ERROR\n      });\n    }\n  };\n\n  const setIsTrainingEditingOn = () => {\n    dispatch({\n      type: SET_ISTRAININGEDITING_ON\n    });\n  };\n\n  const setIsTrainingEditingOff = () => {\n    dispatch({\n      type: SET_ISTRAININGEDITING_OFF\n    });\n  };\n\n  const resetSingleTraining = () => {\n    dispatch({\n      type: RESET_SINGLE_TRAINING\n    });\n  };\n\n  const setEditTrainingID = async id => {\n    try {\n      dispatch({\n        type: SET_EDITTRAININGID,\n        payload: id\n      });\n    } catch (error) {\n      dispatch(error);\n    }\n  };\n\n  const getSingleTraining = async id => {\n    dispatch({\n      type: GET_SINGLE_TRAINING_BEGIN\n    });\n\n    try {\n      const {\n        data\n      } = await axios.get(`${trainings_url}?id=${id}`);\n      const singletraining = data;\n      dispatch({\n        type: GET_SINGLE_TRAINING_SUCCESS,\n        payload: singletraining\n      });\n    } catch (error) {\n      dispatch({\n        type: GET_SINGLE_TRAINING_ERROR\n      });\n    }\n  };\n\n  const getSingleBatchTraining = async empid => {\n    dispatch({\n      type: GET_SINGLEBATCH_TRAINING_BEGIN\n    });\n\n    try {\n      const res = await fetch(`${trainings_url}?fv=${empid}`); //console.log(`${family_url}?fv=${linkid}`);\n\n      const singlebatchtraining = await res.json();\n      dispatch({\n        type: GET_SINGLEBATCH_TRAINING_SUCCESS,\n        payload: singlebatchtraining\n      });\n    } catch (error) {\n      dispatch({\n        type: GET_SINGLEBATCH_TRAINING_ERROR\n      });\n    }\n  };\n\n  const addTraining = async data => {\n    const {\n      id,\n      name,\n      from_date,\n      to_date,\n      reason,\n      no_of_days,\n      status\n    } = data; //\n\n    dispatch({\n      type: ADD_TRAINING_BEGIN\n    });\n\n    try {\n      await fetch(trainings_url, {\n        method: \"POST\",\n        body: JSON.stringify({ ...data\n        })\n      });\n      dispatch({\n        type: ADD_TRAINING_SUCCESS\n      });\n    } catch (err) {\n      dispatch({\n        type: ADD_TRAINING_ERROR\n      });\n    }\n  };\n\n  const updateTraining = async data => {\n    const {\n      id,\n      ...fields\n    } = data;\n    dispatch({\n      type: UPDATE_TRAINING_BEGIN\n    });\n\n    try {\n      await fetch(trainings_url, {\n        method: \"PUT\",\n        body: JSON.stringify({\n          id,\n          ...fields\n        })\n      });\n      dispatch({\n        type: UPDATE_TRAINING_SUCCESS\n      });\n    } catch (error) {\n      dispatch({\n        type: UPDATE_TRAINING_ERROR\n      });\n    }\n  };\n\n  const deleteTraining = async id => {\n    dispatch({\n      type: DELETE_TRAINING_BEGIN\n    });\n\n    try {\n      await fetch(trainings_url, {\n        method: \"DELETE\",\n        body: JSON.stringify({\n          id: id\n        })\n      });\n      dispatch({\n        type: DELETE_TRAINING_SUCCESS\n      }); //loadEmployees();\n    } catch (err) {\n      dispatch({\n        type: DELETE_TRAINING_ERROR\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(TrainingsContext.Provider, {\n    value: { ...state,\n      loadTrainings,\n      addTraining,\n      updateTraining,\n      deleteTraining,\n      getSingleTraining,\n      getSingleBatchTraining,\n      setEditTrainingID,\n      setIsTrainingEditingOn,\n      setIsTrainingEditingOff,\n      resetSingleTraining\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TrainingsProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n\n_c = TrainingsProvider;\nexport const useTrainingsContext = () => {\n  _s2();\n\n  return useContext(TrainingsContext);\n};\n\n_s2(useTrainingsContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"TrainingsProvider\");","map":{"version":3,"sources":["D:/react-myprojects/hrms-airtable/src/context/leaves_context.js"],"names":["React","useContext","useEffect","useReducer","axios","reducer","leaves_url","SET_EDITLEAVEID","SET_ISLEAVEEDITING_ON","SET_ISLEAVEEDITING_OFF","SET_SINGLELEAVE","GET_LEAVES_BEGIN","GET_LEAVES_SUCCESS","GET_LEAVES_ERROR","GET_SINGLE_LEAVE_BEGIN","GET_SINGLE_LEAVE_SUCCESS","GET_SINGLE_LEAVE_ERROR","GET_SINGLEBATCH_LEAVE_BEGIN","GET_SINGLEBATCH_LEAVE_SUCCESS","GET_SINGLEBATCH_LEAVE_ERROR","ADD_TRAINING_BEGIN","ADD_TRAINING_SUCCESS","ADD_TRAINING_ERROR","DELETE_TRAINING_BEGIN","DELETE_TRAINING_SUCCESS","DELETE_TRAINING_ERROR","UPDATE_TRAINING_BEGIN","UPDATE_TRAINING_SUCCESS","UPDATE_TRAINING_ERROR","RESET_SINGLE_TRAINING","RESET_TABLES","initialState","isTrainingEditing","alerttraining","show","msg","type","editTrainingID","trainings_loading","trainings_error","trainings","single_training_loading","single_training_error","single_training","singlebatch_training_loading","singlebatch_training_error","singlebatch_training","delete_training_loading","delete_training_error","update_training_loading","update_training_error","add_training_loading","add_training_error","TrainingsContext","createContext","TrainingsProvider","children","state","dispatch","loadTrainings","GET_TRAININGS_BEGIN","res","fetch","trainings_url","json","GET_TRAININGS_SUCCESS","payload","error","GET_TRAININGS_ERROR","setIsTrainingEditingOn","SET_ISTRAININGEDITING_ON","setIsTrainingEditingOff","SET_ISTRAININGEDITING_OFF","resetSingleTraining","setEditTrainingID","id","SET_EDITTRAININGID","getSingleTraining","GET_SINGLE_TRAINING_BEGIN","data","get","singletraining","GET_SINGLE_TRAINING_SUCCESS","GET_SINGLE_TRAINING_ERROR","getSingleBatchTraining","empid","GET_SINGLEBATCH_TRAINING_BEGIN","singlebatchtraining","GET_SINGLEBATCH_TRAINING_SUCCESS","GET_SINGLEBATCH_TRAINING_ERROR","addTraining","name","from_date","to_date","reason","no_of_days","status","method","body","JSON","stringify","err","updateTraining","fields","deleteTraining","useTrainingsContext"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useReducer } from \"react\";\r\nimport axios from \"axios\";\r\nimport reducer from \"../reducers/leaves_reducer\";\r\nimport { leaves_url } from \"../utils/constants\";\r\n\r\nimport {\r\n  SET_EDITLEAVEID,\r\n  SET_ISLEAVEEDITING_ON,\r\n  SET_ISLEAVEEDITING_OFF,\r\n  SET_SINGLELEAVE,\r\n  GET_LEAVES_BEGIN,\r\n  GET_LEAVES_SUCCESS,\r\n  GET_LEAVES_ERROR,\r\n  GET_SINGLE_LEAVE_BEGIN,\r\n  GET_SINGLE_LEAVE_SUCCESS,\r\n  GET_SINGLE_LEAVE_ERROR,\r\n  GET_SINGLEBATCH_LEAVE_BEGIN,\r\n  GET_SINGLEBATCH_LEAVE_SUCCESS,\r\n  GET_SINGLEBATCH_LEAVE_ERROR,\r\n  ADD_TRAINING_BEGIN,\r\n  ADD_TRAINING_SUCCESS,\r\n  ADD_TRAINING_ERROR,\r\n  DELETE_TRAINING_BEGIN,\r\n  DELETE_TRAINING_SUCCESS,\r\n  DELETE_TRAINING_ERROR,\r\n  UPDATE_TRAINING_BEGIN,\r\n  UPDATE_TRAINING_SUCCESS,\r\n  UPDATE_TRAINING_ERROR,\r\n  RESET_SINGLE_TRAINING,\r\n  RESET_TABLES,\r\n} from \"../actions\";\r\n\r\nconst initialState = {\r\n  isTrainingEditing: false,\r\n  alerttraining: { show: false, msg: \"\", type: \"\" },\r\n  editTrainingID: null,\r\n  trainings_loading: false,\r\n  trainings_error: false,\r\n  trainings: [],\r\n  single_training_loading: false,\r\n  single_training_error: false,\r\n  single_training: {},\r\n  singlebatch_training_loading: false,\r\n  singlebatch_training_error: false,\r\n  singlebatch_training: {},\r\n  delete_training_loading: false,\r\n  delete_training_error: false,\r\n  update_training_loading: false,\r\n  update_training_error: false,\r\n  add_training_loading: false,\r\n  add_training_error: false,\r\n  // filterValue: \"Female\",\r\n  // filterfield: \"gender\",\r\n};\r\n\r\nconst TrainingsContext = React.createContext();\r\n\r\nexport const TrainingsProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const loadTrainings = async () => {\r\n    dispatch({ type: GET_TRAININGS_BEGIN });\r\n    try {\r\n      // const res = await fetch(\r\n      //   `${employees_url}?filterValue=\"${state.filterValue}\"&filterField=\"${state.filterField}\"`\r\n      // );\r\n      const res = await fetch(trainings_url);\r\n      //const { data } = await axios.get(employees_url);\r\n      //const employees = data;\r\n      const trainings = await res.json();\r\n      dispatch({ type: GET_TRAININGS_SUCCESS, payload: trainings });\r\n    } catch (error) {\r\n      dispatch({ type: GET_TRAININGS_ERROR });\r\n    }\r\n  };\r\n\r\n  const setIsTrainingEditingOn = () => {\r\n    dispatch({ type: SET_ISTRAININGEDITING_ON });\r\n  };\r\n\r\n  const setIsTrainingEditingOff = () => {\r\n    dispatch({ type: SET_ISTRAININGEDITING_OFF });\r\n  };\r\n\r\n  const resetSingleTraining = () => {\r\n    dispatch({ type: RESET_SINGLE_TRAINING });\r\n  };\r\n\r\n  const setEditTrainingID = async (id) => {\r\n    try {\r\n      dispatch({ type: SET_EDITTRAININGID, payload: id });\r\n    } catch (error) {\r\n      dispatch(error);\r\n    }\r\n  };\r\n\r\n  const getSingleTraining = async (id) => {\r\n    dispatch({ type: GET_SINGLE_TRAINING_BEGIN });\r\n    try {\r\n      const { data } = await axios.get(`${trainings_url}?id=${id}`);\r\n      const singletraining = data;\r\n      dispatch({ type: GET_SINGLE_TRAINING_SUCCESS, payload: singletraining });\r\n    } catch (error) {\r\n      dispatch({ type: GET_SINGLE_TRAINING_ERROR });\r\n    }\r\n  };\r\n\r\n  const getSingleBatchTraining = async (empid) => {\r\n    dispatch({ type: GET_SINGLEBATCH_TRAINING_BEGIN });\r\n    try {\r\n      const res = await fetch(`${trainings_url}?fv=${empid}`);\r\n      //console.log(`${family_url}?fv=${linkid}`);\r\n      const singlebatchtraining = await res.json();\r\n\r\n      dispatch({\r\n        type: GET_SINGLEBATCH_TRAINING_SUCCESS,\r\n        payload: singlebatchtraining,\r\n      });\r\n    } catch (error) {\r\n      dispatch({ type: GET_SINGLEBATCH_TRAINING_ERROR });\r\n    }\r\n  };\r\n\r\n  const addTraining = async (data) => {\r\n    const { id, name, from_date, to_date, reason, no_of_days, status } = data;\r\n    //\r\n    dispatch({ type: ADD_TRAINING_BEGIN });\r\n    try {\r\n      await fetch(trainings_url, {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ ...data }),\r\n      });\r\n      dispatch({ type: ADD_TRAINING_SUCCESS });\r\n    } catch (err) {\r\n      dispatch({ type: ADD_TRAINING_ERROR });\r\n    }\r\n  };\r\n\r\n  const updateTraining = async (data) => {\r\n    const { id, ...fields } = data;\r\n\r\n    dispatch({ type: UPDATE_TRAINING_BEGIN });\r\n    try {\r\n      await fetch(trainings_url, {\r\n        method: \"PUT\",\r\n        body: JSON.stringify({ id, ...fields }),\r\n      });\r\n      dispatch({ type: UPDATE_TRAINING_SUCCESS });\r\n    } catch (error) {\r\n      dispatch({ type: UPDATE_TRAINING_ERROR });\r\n    }\r\n  };\r\n\r\n  const deleteTraining = async (id) => {\r\n    dispatch({ type: DELETE_TRAINING_BEGIN });\r\n    try {\r\n      await fetch(trainings_url, {\r\n        method: \"DELETE\",\r\n        body: JSON.stringify({ id: id }),\r\n      });\r\n      dispatch({ type: DELETE_TRAINING_SUCCESS });\r\n      //loadEmployees();\r\n    } catch (err) {\r\n      dispatch({ type: DELETE_TRAINING_ERROR });\r\n    }\r\n  };\r\n  return (\r\n    <TrainingsContext.Provider\r\n      value={{\r\n        ...state,\r\n        loadTrainings,\r\n        addTraining,\r\n        updateTraining,\r\n        deleteTraining,\r\n        getSingleTraining,\r\n        getSingleBatchTraining,\r\n        setEditTrainingID,\r\n        setIsTrainingEditingOn,\r\n        setIsTrainingEditingOff,\r\n        resetSingleTraining,\r\n      }}\r\n    >\r\n      {children}\r\n    </TrainingsContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useTrainingsContext = () => {\r\n  return useContext(TrainingsContext);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}