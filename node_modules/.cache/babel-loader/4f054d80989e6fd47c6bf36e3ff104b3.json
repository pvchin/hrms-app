{"ast":null,"code":"import _objectSpread from\"D:/react-myprojects/hrms-airtable/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"D:/react-myprojects/hrms-airtable/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/react-myprojects/hrms-airtable/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useState,useEffect}from\"react\";import MaterialTable,{MTableToolbar}from\"material-table\";import{makeStyles}from\"@material-ui/core/styles\";import{Button}from\"@material-ui/core\";import AddIcon from\"@material-ui/icons/Add\";import EditIcon from\"@material-ui/icons/Edit\";import DeleteIcon from\"@material-ui/icons/Delete\";import CheckIcon from\"@material-ui/icons/Check\";import SearchIcon from\"@material-ui/icons/Search\";import ArrowBackIcon from\"@material-ui/icons/ArrowBack\";import{useHistory,Link}from\"react-router-dom\";import{useDailyAllowancesContext}from\"../context/dailyallowances_context\";import{useEmployeesContext}from\"../context/employees_context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var columns=[{title:\"Name\",field:\"name\"},{title:\"Period\",field:\"period\"},{title:\"Location\",field:\"location\"},{title:\"Manager Name\",field:\"manager_name\"},{title:\"No Of Days\",field:\"no_of_days\",type:\"numeric\"},{title:\"Amount\",field:\"amount\",type:\"numeric\"},{title:\"Status\",field:\"status\"}];export default function AllEmployeesTable(){var history=useHistory();var classes=useStyles();var _useDailyAllowancesCo=useDailyAllowancesContext(),dailyallowances=_useDailyAllowancesCo.dailyallowances,addDailyAllowance=_useDailyAllowancesCo.addDailyAllowance,dailyallowances_loading=_useDailyAllowancesCo.dailyallowances_loading,updateDailyAllowance=_useDailyAllowancesCo.updateDailyAllowance,deleteDailyAllowance=_useDailyAllowancesCo.deleteDailyAllowance,loadDailyAllowances=_useDailyAllowancesCo.loadDailyAllowances,getSingleDailyAllowance=_useDailyAllowancesCo.getSingleDailyAllowance,setEditDailyAllowanceID=_useDailyAllowancesCo.setEditDailyAllowanceID,setIsDailyAllowanceEditingOn=_useDailyAllowancesCo.setIsDailyAllowanceEditingOn,setIsDailyAllowanceEditingOff=_useDailyAllowancesCo.setIsDailyAllowanceEditingOff,resetSingleDailyAllowance=_useDailyAllowancesCo.resetSingleDailyAllowance,dailyallowance_period=_useDailyAllowancesCo.dailyallowance_period;var _useEmployeesContext=useEmployeesContext(),loadEmployees=_useEmployeesContext.loadEmployees,employees=_useEmployeesContext.employees;useEffect(function(){loadDailyAllowances();},[]);var update_DailyAllowance=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var id;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:id=data.id;setEditDailyAllowanceID(id);setIsDailyAllowanceEditingOn();getSingleDailyAllowance(id);history.push(\"/singledailyallowance\");case 5:case\"end\":return _context.stop();}}},_callee);}));return function update_DailyAllowance(_x){return _ref.apply(this,arguments);};}();var add_DailyAllowance=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){var id;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:id=data.id;resetSingleDailyAllowance();setEditDailyAllowanceID(\"\");setIsDailyAllowanceEditingOff();history.push(\"/singledailyallowance\");case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function add_DailyAllowance(_x2){return _ref2.apply(this,arguments);};}();var delete_DailyAllowance=function delete_DailyAllowance(data){var id=data.id;setEditDailyAllowanceID(id);deleteDailyAllowance(id);loadDailyAllowances();};if(dailyallowances_loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:\"100%\",paddingTop:\"5px\"},children:/*#__PURE__*/_jsx(MaterialTable,{columns:columns,data:dailyallowances,title:\"Daily Allowances Application\",icons:{Add:function Add(props){return/*#__PURE__*/_jsx(AddIcon,{});},Edit:function Edit(props){return/*#__PURE__*/_jsx(EditIcon,{});},Delete:function Delete(props){return/*#__PURE__*/_jsx(DeleteIcon,{});},Clear:function Clear(props){return/*#__PURE__*/_jsx(DeleteIcon,{});},Check:function Check(props){return/*#__PURE__*/_jsx(CheckIcon,{});},Search:function Search(props){return/*#__PURE__*/_jsx(SearchIcon,{});},ResetSearch:function ResetSearch(props){return/*#__PURE__*/_jsx(DeleteIcon,{});}},actions:[{icon:\"edit\",tooltip:\"Edit Record\",onClick:function onClick(event,rowData){update_DailyAllowance(rowData);}},{icon:\"delete\",tooltip:\"Delete Record\",onClick:function onClick(event,rowData){delete_DailyAllowance(rowData);}},{icon:\"add\",tooltip:\"Add Record\",isFreeAction:true,onClick:function onClick(event,rowData){add_DailyAllowance(rowData);}}],options:{filtering:true,headerStyle:{backgroundColor:\"#01579b\",color:\"#FFF\"},showTitle:true},components:{Toolbar:function Toolbar(props){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MTableToolbar,_objectSpread({},props)),/*#__PURE__*/_jsx(Link,{to:\"/dailyallowances\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ArrowBackIcon,{fontSize:\"large\",color:\"primary\"})})})]});}}})})});}var useStyles=makeStyles(function(theme){return{root:{padding:0}};});","map":{"version":3,"sources":["D:/react-myprojects/hrms-airtable/src/components/DailyAllowancesTable.js"],"names":["React","useState","useEffect","MaterialTable","MTableToolbar","makeStyles","Button","AddIcon","EditIcon","DeleteIcon","CheckIcon","SearchIcon","ArrowBackIcon","useHistory","Link","useDailyAllowancesContext","useEmployeesContext","columns","title","field","type","AllEmployeesTable","history","classes","useStyles","dailyallowances","addDailyAllowance","dailyallowances_loading","updateDailyAllowance","deleteDailyAllowance","loadDailyAllowances","getSingleDailyAllowance","setEditDailyAllowanceID","setIsDailyAllowanceEditingOn","setIsDailyAllowanceEditingOff","resetSingleDailyAllowance","dailyallowance_period","loadEmployees","employees","update_DailyAllowance","data","id","push","add_DailyAllowance","delete_DailyAllowance","root","maxWidth","paddingTop","Add","props","Edit","Delete","Clear","Check","Search","ResetSearch","icon","tooltip","onClick","event","rowData","isFreeAction","filtering","headerStyle","backgroundColor","color","showTitle","Toolbar","theme","padding"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport MaterialTable, { MTableToolbar } from \"material-table\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\n\r\nimport { useDailyAllowancesContext } from \"../context/dailyallowances_context\";\r\nimport { useEmployeesContext } from \"../context/employees_context\";\r\n\r\nconst columns = [\r\n  {\r\n    title: \"Name\",\r\n    field: \"name\",\r\n  },\r\n  { title: \"Period\", field: \"period\" },\r\n  { title: \"Location\", field: \"location\" },\r\n  { title: \"Manager Name\", field: \"manager_name\" },\r\n  { title: \"No Of Days\", field: \"no_of_days\", type: \"numeric\" },\r\n  { title: \"Amount\", field: \"amount\", type: \"numeric\" },\r\n  { title: \"Status\", field: \"status\" },\r\n];\r\n\r\nexport default function AllEmployeesTable() {\r\n  let history = useHistory();\r\n  const classes = useStyles();\r\n  const {\r\n    dailyallowances,\r\n    addDailyAllowance,\r\n    dailyallowances_loading,\r\n    updateDailyAllowance,\r\n    deleteDailyAllowance,\r\n    loadDailyAllowances,\r\n    getSingleDailyAllowance,\r\n    setEditDailyAllowanceID,\r\n    setIsDailyAllowanceEditingOn,\r\n    setIsDailyAllowanceEditingOff,\r\n    resetSingleDailyAllowance,\r\n    dailyallowance_period,\r\n  } = useDailyAllowancesContext();\r\n  const { loadEmployees, employees } = useEmployeesContext();\r\n\r\n  useEffect(() => {\r\n    loadDailyAllowances();\r\n  }, []);\r\n\r\n  const update_DailyAllowance = async (data) => {\r\n    const { id } = data;\r\n    setEditDailyAllowanceID(id);\r\n    setIsDailyAllowanceEditingOn();\r\n    getSingleDailyAllowance(id);\r\n    history.push(\"/singledailyallowance\");\r\n  };\r\n\r\n  const add_DailyAllowance = async (data) => {\r\n    const { id } = data;\r\n    resetSingleDailyAllowance();\r\n    setEditDailyAllowanceID(\"\");\r\n    setIsDailyAllowanceEditingOff();\r\n    history.push(\"/singledailyallowance\");\r\n  };\r\n\r\n  const delete_DailyAllowance = (data) => {\r\n    const { id } = data;\r\n    setEditDailyAllowanceID(id);\r\n    deleteDailyAllowance(id);\r\n    loadDailyAllowances();\r\n  };\r\n\r\n  if (dailyallowances_loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n  return (\r\n    <div className={classes.root}>\r\n      <div style={{ maxWidth: \"100%\", paddingTop: \"5px\" }}>\r\n        <MaterialTable\r\n          columns={columns}\r\n          data={dailyallowances}\r\n          title=\"Daily Allowances Application\"\r\n          icons={{\r\n            Add: (props) => <AddIcon />,\r\n            Edit: (props) => <EditIcon />,\r\n            Delete: (props) => <DeleteIcon />,\r\n            Clear: (props) => <DeleteIcon />,\r\n            Check: (props) => <CheckIcon />,\r\n            Search: (props) => <SearchIcon />,\r\n            ResetSearch: (props) => <DeleteIcon />,\r\n          }}\r\n          actions={[\r\n            {\r\n              icon: \"edit\",\r\n              tooltip: \"Edit Record\",\r\n              onClick: (event, rowData) => {\r\n                update_DailyAllowance(rowData);\r\n              },\r\n            },\r\n            {\r\n              icon: \"delete\",\r\n              tooltip: \"Delete Record\",\r\n              onClick: (event, rowData) => {\r\n                delete_DailyAllowance(rowData);\r\n              },\r\n            },\r\n            {\r\n              icon: \"add\",\r\n              tooltip: \"Add Record\",\r\n              isFreeAction: true,\r\n              onClick: (event, rowData) => {\r\n                add_DailyAllowance(rowData);\r\n              },\r\n            },\r\n          ]}\r\n          options={{\r\n            filtering: true,\r\n            headerStyle: {\r\n              backgroundColor: \"#01579b\",\r\n              color: \"#FFF\",\r\n            },\r\n            showTitle: true,\r\n          }}\r\n          components={{\r\n            Toolbar: (props) => (\r\n              <div>\r\n                <MTableToolbar {...props} />\r\n                <Link to=\"/dailyallowances\">\r\n                  <div>\r\n                    <ArrowBackIcon fontSize=\"large\" color=\"primary\" />\r\n                  </div>\r\n                </Link>\r\n              </div>\r\n            ),\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: 0,\r\n  },\r\n}));\r\n"]},"metadata":{},"sourceType":"module"}