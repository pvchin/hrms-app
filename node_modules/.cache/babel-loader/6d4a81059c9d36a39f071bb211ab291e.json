{"ast":null,"code":"var _jsxFileName = \"D:\\\\react-myprojects\\\\hrms-airtable\\\\src\\\\context\\\\dailyallowances_context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useContext, useEffect, useReducer } from \"react\";\nimport axios from \"axios\";\nimport reducer from \"../reducers/dailyallowances_reducer\";\nimport { dailyallowances_url, periods_url } from \"../utils/constants\";\nimport { SET_EDITDAILYALLOWANCEID, SET_ISDAILYALLOWANCEEDITING_ON, SET_ISDAILYALLOWANCEEDITING_OFF, SET_DAILYALLOWANCE_PERIOD, SET_SINGLEDAILYALLOWANCE, GET_DAILYALLOWANCES_BEGIN, GET_DAILYALLOWANCES_SUCCESS, GET_DAILYALLOWANCES_ERROR, GET_SINGLE_DAILYALLOWANCE_BEGIN, GET_SINGLE_DAILYALLOWANCE_SUCCESS, GET_SINGLE_DAILYALLOWANCE_ERROR, ADD_DAILYALLOWANCE_BEGIN, ADD_DAILYALLOWANCE_SUCCESS, ADD_DAILYALLOWANCE_ERROR, DELETE_DAILYALLOWANCE_BEGIN, DELETE_DAILYALLOWANCE_SUCCESS, DELETE_DAILYALLOWANCE_ERROR, UPDATE_DAILYALLOWANCE_BEGIN, UPDATE_DAILYALLOWANCE_SUCCESS, UPDATE_DAILYALLOWANCE_ERROR, RESET_SINGLE_DAILYALLOWANCE } from \"../actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  isDailyAllowanceEditing: false,\n  alertDailyAllowance: {\n    show: false,\n    msg: \"\",\n    type: \"\"\n  },\n  editDailyAllowanceID: null,\n  dailyallowances_loading: false,\n  dailyallowances_error: false,\n  dailyallowances: [],\n  single_dailyallowance_loading: false,\n  single_dailyallowance_error: false,\n  single_dailyallowance: {},\n  delete_dailyallowance_loading: false,\n  delete_dailyallowance_error: false,\n  update_dailyallowance_loading: false,\n  update_dailyallowance_error: false,\n  add_dailyallowance_loading: false,\n  add_dailyallowance_error: false,\n  dailyallowance_period: \"\" // filterValue: \"Female\",\n  // filterfield: \"gender\",\n\n};\nconst DailyAllowancesContext = /*#__PURE__*/React.createContext();\nexport const DailyAllowancesProvider = ({\n  children\n}) => {\n  _s();\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const loadDailyAllowances = async () => {\n    dispatch({\n      type: GET_DAILYALLOWANCES_BEGIN\n    });\n\n    try {\n      // const res = await fetch(\n      //   `${employees_url}?filterValue=\"${state.filterValue}\"&filterField=\"${state.filterField}\"`\n      // );\n      const res = await fetch(dailyallowances_url); //const { data } = await axios.get(employees_url);\n      //const employees = data;\n\n      const dailyallowances = await res.json();\n      dispatch({\n        type: GET_DAILYALLOWANCES_SUCCESS,\n        payload: dailyallowances\n      });\n    } catch (error) {\n      dispatch({\n        type: GET_DAILYALLOWANCES_ERROR\n      });\n    }\n  };\n\n  const setIsDailyAllowanceEditingOn = () => {\n    dispatch({\n      type: SET_ISDAILYALLOWANCEEDITING_ON\n    });\n  };\n\n  const setIsDailyAllowanceEditingOff = () => {\n    dispatch({\n      type: SET_ISDAILYALLOWANCEEDITING_OFF\n    });\n  };\n\n  const resetSingleDailyAllowance = () => {\n    dispatch({\n      type: RESET_SINGLE_DAILYALLOWANCE\n    });\n  };\n\n  const setDailyAllowancePeriod = async name => {\n    try {\n      dispatch({\n        type: SET_DAILYALLOWANCE_PERIOD,\n        payload: name\n      });\n    } catch (error) {\n      dispatch(error);\n    }\n  };\n\n  const setEditDailyAllowanceID = async id => {\n    try {\n      dispatch({\n        type: SET_EDITDAILYALLOWANCEID,\n        payload: id\n      });\n    } catch (error) {\n      dispatch(error);\n    }\n  };\n\n  const getSingleDailyAllowance = async id => {\n    dispatch({\n      type: GET_SINGLE_DAILYALLOWANCE_BEGIN\n    });\n\n    try {\n      const {\n        data\n      } = await axios.get(`${dailyallowances_url}?id=${id}`);\n      const singledailyallowance = data;\n      dispatch({\n        type: GET_SINGLE_DAILYALLOWANCE_SUCCESS,\n        payload: singledailyallowance\n      });\n    } catch (error) {\n      dispatch({\n        type: GET_SINGLE_DAILYALLOWANCE_ERROR\n      });\n    }\n  };\n\n  const addDailyAllowance = async data => {\n    const {\n      id,\n      name,\n      period,\n      location,\n      manager_name,\n      no_of_days,\n      amount,\n      status\n    } = data; //\n\n    dispatch({\n      type: ADD_DAILYALLOWANCE_BEGIN\n    });\n\n    try {\n      await fetch(dailyallowances_url, {\n        method: \"POST\",\n        body: JSON.stringify({ ...data\n        })\n      });\n      dispatch({\n        type: ADD_DAILYALLOWANCE_SUCCESS\n      });\n    } catch (err) {\n      dispatch({\n        type: ADD_DAILYALLOWANCE_ERROR\n      });\n    }\n  };\n\n  const updateDailyAllowance = async data => {\n    const {\n      id,\n      ...fields\n    } = data;\n    dispatch({\n      type: UPDATE_DAILYALLOWANCE_BEGIN\n    });\n\n    try {\n      await fetch(dailyallowances_url, {\n        method: \"PUT\",\n        body: JSON.stringify({\n          id,\n          ...fields\n        })\n      });\n      dispatch({\n        type: UPDATE_DAILYALLOWANCE_SUCCESS\n      });\n    } catch (error) {\n      dispatch({\n        type: UPDATE_DAILYALLOWANCE_ERROR\n      });\n    }\n  };\n\n  const deleteDailyAllowance = async () => {\n    dispatch({\n      type: DELETE_DAILYALLOWANCE_BEGIN\n    });\n\n    try {\n      await fetch(dailyallowances_url, {\n        method: \"DELETE\",\n        body: JSON.stringify({\n          id: state.editDailyAllowanceID\n        })\n      });\n      dispatch({\n        type: DELETE_DAILYALLOWANCE_SUCCESS\n      }); //loadEmployees();\n    } catch (err) {\n      dispatch({\n        type: DELETE_DAILYALLOWANCE_ERROR\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(DailyAllowancesContext.Provider, {\n    value: { ...state,\n      loadDailyAllowances,\n      addDailyAllowance,\n      updateDailyAllowance,\n      deleteDailyAllowance,\n      getSingleDailyAllowance,\n      setEditDailyAllowanceID,\n      setIsDailyAllowanceEditingOn,\n      setIsDailyAllowanceEditingOff,\n      setDailyAllowancePeriod,\n      resetSingleDailyAllowance\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DailyAllowancesProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n\n_c = DailyAllowancesProvider;\nexport const useDailyAllowancesContext = () => {\n  _s2();\n\n  return useContext(DailyAllowancesContext);\n};\n\n_s2(useDailyAllowancesContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"DailyAllowancesProvider\");","map":{"version":3,"sources":["D:/react-myprojects/hrms-airtable/src/context/dailyallowances_context.js"],"names":["React","useContext","useEffect","useReducer","axios","reducer","dailyallowances_url","periods_url","SET_EDITDAILYALLOWANCEID","SET_ISDAILYALLOWANCEEDITING_ON","SET_ISDAILYALLOWANCEEDITING_OFF","SET_DAILYALLOWANCE_PERIOD","SET_SINGLEDAILYALLOWANCE","GET_DAILYALLOWANCES_BEGIN","GET_DAILYALLOWANCES_SUCCESS","GET_DAILYALLOWANCES_ERROR","GET_SINGLE_DAILYALLOWANCE_BEGIN","GET_SINGLE_DAILYALLOWANCE_SUCCESS","GET_SINGLE_DAILYALLOWANCE_ERROR","ADD_DAILYALLOWANCE_BEGIN","ADD_DAILYALLOWANCE_SUCCESS","ADD_DAILYALLOWANCE_ERROR","DELETE_DAILYALLOWANCE_BEGIN","DELETE_DAILYALLOWANCE_SUCCESS","DELETE_DAILYALLOWANCE_ERROR","UPDATE_DAILYALLOWANCE_BEGIN","UPDATE_DAILYALLOWANCE_SUCCESS","UPDATE_DAILYALLOWANCE_ERROR","RESET_SINGLE_DAILYALLOWANCE","initialState","isDailyAllowanceEditing","alertDailyAllowance","show","msg","type","editDailyAllowanceID","dailyallowances_loading","dailyallowances_error","dailyallowances","single_dailyallowance_loading","single_dailyallowance_error","single_dailyallowance","delete_dailyallowance_loading","delete_dailyallowance_error","update_dailyallowance_loading","update_dailyallowance_error","add_dailyallowance_loading","add_dailyallowance_error","dailyallowance_period","DailyAllowancesContext","createContext","DailyAllowancesProvider","children","state","dispatch","loadDailyAllowances","res","fetch","json","payload","error","setIsDailyAllowanceEditingOn","setIsDailyAllowanceEditingOff","resetSingleDailyAllowance","setDailyAllowancePeriod","name","setEditDailyAllowanceID","id","getSingleDailyAllowance","data","get","singledailyallowance","addDailyAllowance","period","location","manager_name","no_of_days","amount","status","method","body","JSON","stringify","err","updateDailyAllowance","fields","deleteDailyAllowance","useDailyAllowancesContext"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useReducer } from \"react\";\r\nimport axios from \"axios\";\r\nimport reducer from \"../reducers/dailyallowances_reducer\";\r\nimport { dailyallowances_url, periods_url } from \"../utils/constants\";\r\n\r\nimport {\r\n  SET_EDITDAILYALLOWANCEID,\r\n  SET_ISDAILYALLOWANCEEDITING_ON,\r\n  SET_ISDAILYALLOWANCEEDITING_OFF,\r\n  SET_DAILYALLOWANCE_PERIOD,\r\n  SET_SINGLEDAILYALLOWANCE,\r\n  GET_DAILYALLOWANCES_BEGIN,\r\n  GET_DAILYALLOWANCES_SUCCESS,\r\n  GET_DAILYALLOWANCES_ERROR,\r\n  GET_SINGLE_DAILYALLOWANCE_BEGIN,\r\n  GET_SINGLE_DAILYALLOWANCE_SUCCESS,\r\n  GET_SINGLE_DAILYALLOWANCE_ERROR,\r\n  ADD_DAILYALLOWANCE_BEGIN,\r\n  ADD_DAILYALLOWANCE_SUCCESS,\r\n  ADD_DAILYALLOWANCE_ERROR,\r\n  DELETE_DAILYALLOWANCE_BEGIN,\r\n  DELETE_DAILYALLOWANCE_SUCCESS,\r\n  DELETE_DAILYALLOWANCE_ERROR,\r\n  UPDATE_DAILYALLOWANCE_BEGIN,\r\n  UPDATE_DAILYALLOWANCE_SUCCESS,\r\n  UPDATE_DAILYALLOWANCE_ERROR,\r\n  RESET_SINGLE_DAILYALLOWANCE,\r\n} from \"../actions\";\r\n\r\nconst initialState = {\r\n  isDailyAllowanceEditing: false,\r\n  alertDailyAllowance: { show: false, msg: \"\", type: \"\" },\r\n  editDailyAllowanceID: null,\r\n  dailyallowances_loading: false,\r\n  dailyallowances_error: false,\r\n  dailyallowances: [],\r\n  single_dailyallowance_loading: false,\r\n  single_dailyallowance_error: false,\r\n  single_dailyallowance: {},\r\n  delete_dailyallowance_loading: false,\r\n  delete_dailyallowance_error: false,\r\n  update_dailyallowance_loading: false,\r\n  update_dailyallowance_error: false,\r\n  add_dailyallowance_loading: false,\r\n  add_dailyallowance_error: false,\r\n  dailyallowance_period: \"\",\r\n  // filterValue: \"Female\",\r\n  // filterfield: \"gender\",\r\n};\r\n\r\nconst DailyAllowancesContext = React.createContext();\r\n\r\nexport const DailyAllowancesProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const loadDailyAllowances = async () => {\r\n    dispatch({ type: GET_DAILYALLOWANCES_BEGIN });\r\n    try {\r\n      // const res = await fetch(\r\n      //   `${employees_url}?filterValue=\"${state.filterValue}\"&filterField=\"${state.filterField}\"`\r\n      // );\r\n      const res = await fetch(dailyallowances_url);\r\n      //const { data } = await axios.get(employees_url);\r\n      //const employees = data;\r\n      const dailyallowances = await res.json();\r\n      dispatch({ type: GET_DAILYALLOWANCES_SUCCESS, payload: dailyallowances });\r\n    } catch (error) {\r\n      dispatch({ type: GET_DAILYALLOWANCES_ERROR });\r\n    }\r\n  };\r\n\r\n  const setIsDailyAllowanceEditingOn = () => {\r\n    dispatch({ type: SET_ISDAILYALLOWANCEEDITING_ON });\r\n  };\r\n\r\n  const setIsDailyAllowanceEditingOff = () => {\r\n    dispatch({ type: SET_ISDAILYALLOWANCEEDITING_OFF });\r\n  };\r\n\r\n  const resetSingleDailyAllowance = () => {\r\n    dispatch({ type: RESET_SINGLE_DAILYALLOWANCE });\r\n  };\r\n\r\n  const setDailyAllowancePeriod = async (name) => {\r\n    try {\r\n      dispatch({ type: SET_DAILYALLOWANCE_PERIOD, payload: name });\r\n    } catch (error) {\r\n      dispatch(error);\r\n    }\r\n  };\r\n\r\n  const setEditDailyAllowanceID = async (id) => {\r\n    try {\r\n      dispatch({ type: SET_EDITDAILYALLOWANCEID, payload: id });\r\n    } catch (error) {\r\n      dispatch(error);\r\n    }\r\n  };\r\n\r\n  const getSingleDailyAllowance = async (id) => {\r\n    dispatch({ type: GET_SINGLE_DAILYALLOWANCE_BEGIN });\r\n    try {\r\n      const { data } = await axios.get(`${dailyallowances_url}?id=${id}`);\r\n      const singledailyallowance = data;\r\n      dispatch({\r\n        type: GET_SINGLE_DAILYALLOWANCE_SUCCESS,\r\n        payload: singledailyallowance,\r\n      });\r\n    } catch (error) {\r\n      dispatch({ type: GET_SINGLE_DAILYALLOWANCE_ERROR });\r\n    }\r\n  };\r\n\r\n  const addDailyAllowance = async (data) => {\r\n    const {\r\n      id,\r\n      name,\r\n      period,\r\n      location,\r\n      manager_name,\r\n      no_of_days,\r\n      amount,\r\n      status,\r\n    } = data;\r\n    //\r\n    dispatch({ type: ADD_DAILYALLOWANCE_BEGIN });\r\n    try {\r\n      await fetch(dailyallowances_url, {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ ...data }),\r\n      });\r\n      dispatch({ type: ADD_DAILYALLOWANCE_SUCCESS });\r\n    } catch (err) {\r\n      dispatch({ type: ADD_DAILYALLOWANCE_ERROR });\r\n    }\r\n  };\r\n\r\n  const updateDailyAllowance = async (data) => {\r\n    const { id, ...fields } = data;\r\n\r\n    dispatch({ type: UPDATE_DAILYALLOWANCE_BEGIN });\r\n    try {\r\n      await fetch(dailyallowances_url, {\r\n        method: \"PUT\",\r\n        body: JSON.stringify({ id, ...fields }),\r\n      });\r\n      dispatch({ type: UPDATE_DAILYALLOWANCE_SUCCESS });\r\n    } catch (error) {\r\n      dispatch({ type: UPDATE_DAILYALLOWANCE_ERROR });\r\n    }\r\n  };\r\n\r\n  const deleteDailyAllowance = async () => {\r\n    dispatch({ type: DELETE_DAILYALLOWANCE_BEGIN });\r\n    try {\r\n      await fetch(dailyallowances_url, {\r\n        method: \"DELETE\",\r\n        body: JSON.stringify({ id: state.editDailyAllowanceID }),\r\n      });\r\n      dispatch({ type: DELETE_DAILYALLOWANCE_SUCCESS });\r\n      //loadEmployees();\r\n    } catch (err) {\r\n      dispatch({ type: DELETE_DAILYALLOWANCE_ERROR });\r\n    }\r\n  };\r\n  return (\r\n    <DailyAllowancesContext.Provider\r\n      value={{\r\n        ...state,\r\n        loadDailyAllowances,\r\n        addDailyAllowance,\r\n        updateDailyAllowance,\r\n        deleteDailyAllowance,\r\n        getSingleDailyAllowance,\r\n        setEditDailyAllowanceID,\r\n        setIsDailyAllowanceEditingOn,\r\n        setIsDailyAllowanceEditingOff,\r\n        setDailyAllowancePeriod,\r\n        resetSingleDailyAllowance,\r\n      }}\r\n    >\r\n      {children}\r\n    </DailyAllowancesContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useDailyAllowancesContext = () => {\r\n  return useContext(DailyAllowancesContext);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}