{"ast":null,"code":"import _objectWithoutProperties from\"D:/react-myprojects/hrms-airtable/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _objectSpread from\"D:/react-myprojects/hrms-airtable/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"D:/react-myprojects/hrms-airtable/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/react-myprojects/hrms-airtable/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/react-myprojects/hrms-airtable/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useReducer}from\"react\";import axios from\"axios\";import reducer from\"../reducers/payslips_reducer\";import{payslips_url}from\"../utils/constants\";import{payslipearnings_url}from\"../utils/constants\";import{payslipdeductions_url}from\"../utils/constants\";import{SET_EDITPAYSLIPID,SET_ISPAYSLIPEDITING_ON,SET_ISPAYSLIPEDITING_OFF,SET_PAYSLIP_PERIOD,SET_PAYSLIP_ENDMONTHDATE,SET_SINGLEPAYSLIP,SET_PAYSLIPEARNING_AMOUNT,SET_PAYSLIPDEDUCTION_AMOUNT,GET_PAYSLIPS_BEGIN,GET_PAYSLIPS_SUCCESS,GET_PAYSLIPS_ERROR,GET_SINGLE_PAYSLIP_BEGIN,GET_SINGLE_PAYSLIP_SUCCESS,GET_SINGLE_PAYSLIP_ERROR,GET_SINGLEBATCH_PAYSLIP_BEGIN,GET_SINGLEBATCH_PAYSLIP_SUCCESS,GET_SINGLEBATCH_PAYSLIP_ERROR,ADD_PAYSLIP_BEGIN,ADD_PAYSLIP_SUCCESS,ADD_PAYSLIP_ERROR,DELETE_PAYSLIP_BEGIN,DELETE_PAYSLIP_SUCCESS,DELETE_PAYSLIP_ERROR,UPDATE_PAYSLIP_BEGIN,UPDATE_PAYSLIP_SUCCESS,UPDATE_PAYSLIP_ERROR,RESET_SINGLE_PAYSLIP,GET_PAYSLIPEARNINGS_BEGIN,GET_PAYSLIPEARNINGS_SUCCESS,GET_PAYSLIPEARNINGS_ERROR,GET_SINGLE_PAYSLIPEARNING_BEGIN,GET_SINGLE_PAYSLIPEARNING_SUCCESS,GET_SINGLE_PAYSLIPEARNING_ERROR,ADD_PAYSLIPEARNING_BEGIN,ADD_PAYSLIPEARNING_SUCCESS,ADD_PAYSLIPEARNING_ERROR,DELETE_PAYSLIPEARNING_BEGIN,DELETE_PAYSLIPEARNING_SUCCESS,DELETE_PAYSLIPEARNING_ERROR,UPDATE_PAYSLIPEARNING_BEGIN,UPDATE_PAYSLIPEARNING_SUCCESS,UPDATE_PAYSLIPEARNING_ERROR,GET_PAYSLIPDEDUCTIONS_BEGIN,GET_PAYSLIPDEDUCTIONS_SUCCESS,GET_PAYSLIPDEDUCTIONS_ERROR,GET_SINGLE_PAYSLIPDEDUCTION_BEGIN,GET_SINGLE_PAYSLIPDEDUCTION_SUCCESS,GET_SINGLE_PAYSLIPDEDUCTION_ERROR,ADD_PAYSLIPDEDUCTION_BEGIN,ADD_PAYSLIPDEDUCTION_SUCCESS,ADD_PAYSLIPDEDUCTION_ERROR,DELETE_PAYSLIPDEDUCTION_BEGIN,DELETE_PAYSLIPDEDUCTION_SUCCESS,DELETE_PAYSLIPDEDUCTION_ERROR,UPDATE_PAYSLIPDEDUCTION_BEGIN,UPDATE_PAYSLIPDEDUCTION_SUCCESS,UPDATE_PAYSLIPDEDUCTION_ERROR}from\"../actions\";import{jsx as _jsx}from\"react/jsx-runtime\";var initialState={isPayslipEditing:false,alertPayslip:{show:false,msg:\"\",type:\"\"},editPayslipID:null,payslips_loading:false,payslips_error:false,payslip_period:\"\",payslip_endmonthdate:\"\",payslip_earning_amount:0,payslip_deduction_amount:0,payslips:[],single_payslip_loading:false,single_payslip_error:false,single_payslip:{},singlebatch_payslip_loading:false,singlebatch_payslip_error:false,singlebatch_payslip:{},delete_payslip_loading:false,delete_payslip_error:false,update_payslip_loading:false,update_payslip_error:false,add_payslip_loading:false,add_payslip_error:false,// filterValue: \"Female\",\n// filterfield: \"gender\",\n// payslip earnings\nisPayslipEarningEditing:false,alertPayslipEarning:{show:false,msg:\"\",type:\"\"},editPayslipEarningID:null,payslipearnings_loading:false,payslipearnings_error:false,payslipearnings:[],single_payslipearning_loading:false,single_payslipearning_error:false,single_payslipearning:{},delete_payslipearning_loading:false,delete_payslipearning_error:false,update_payslipearning_loading:false,update_payslipearning_error:false,add_payslipearning_loading:false,add_payslipearning_error:false,// payslip deductions\nisPayslipDeductionEditing:false,alertPayslipDeduction:{show:false,msg:\"\",type:\"\"},editPayslipDeductionID:null,payslipdeductions_loading:false,payslipdeductions_error:false,payslipdeductions:[],single_payslipdeduction_loading:false,single_payslipdeduction_error:false,single_payslipdeduction:{},delete_payslipdeduction_loading:false,delete_payslipdeduction_error:false,update_payslipdeduction_loading:false,update_payslipdeduction_error:false,add_payslipdeduction_loading:false,add_payslipdeduction_error:false};var PayslipsContext=/*#__PURE__*/React.createContext();export var PayslipsProvider=function PayslipsProvider(_ref){var children=_ref.children;var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];//....... payslip\nvar loadPayslips=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,payslips;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:GET_PAYSLIPS_BEGIN});_context.prev=1;_context.next=4;return fetch(payslips_url);case 4:res=_context.sent;_context.next=7;return res.json();case 7:payslips=_context.sent;dispatch({type:GET_PAYSLIPS_SUCCESS,payload:payslips});_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);dispatch({type:GET_PAYSLIPS_ERROR});case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function loadPayslips(){return _ref2.apply(this,arguments);};}();var getSingleBatchPayslip=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(period){var res,singlebatchpayslip;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:GET_SINGLEBATCH_PAYSLIP_BEGIN});_context2.prev=1;_context2.next=4;return fetch(\"\".concat(payslips_url,\"?fv=\").concat(period));case 4:res=_context2.sent;console.log(\"\".concat(payslips_url,\"?fv=\").concat(period));_context2.next=8;return res.json();case 8:singlebatchpayslip=_context2.sent;dispatch({type:GET_SINGLEBATCH_PAYSLIP_SUCCESS,payload:singlebatchpayslip});_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](1);dispatch({type:GET_SINGLEBATCH_PAYSLIP_ERROR});case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[1,12]]);}));return function getSingleBatchPayslip(_x){return _ref3.apply(this,arguments);};}();var setIsPayslipEditingOn=function setIsPayslipEditingOn(){dispatch({type:SET_ISPAYSLIPEDITING_ON});};var setIsPayslipEditingOff=function setIsPayslipEditingOff(){dispatch({type:SET_ISPAYSLIPEDITING_OFF});};var resetSinglePayslip=function resetSinglePayslip(){dispatch({type:RESET_SINGLE_PAYSLIP});};var setPayslipEarningAmount=function setPayslipEarningAmount(value){dispatch({type:SET_PAYSLIPEARNING_AMOUNT,payload:value});};var setPayslipDeductionAmount=function setPayslipDeductionAmount(value){dispatch({type:SET_PAYSLIPDEDUCTION_AMOUNT,payload:value});};var setPayslipPeriod=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(name){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:try{dispatch({type:SET_PAYSLIP_PERIOD,payload:name});}catch(error){dispatch(error);}case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function setPayslipPeriod(_x2){return _ref4.apply(this,arguments);};}();var setPayslipEndMonthDate=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(name){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:try{dispatch({type:SET_PAYSLIP_ENDMONTHDATE,payload:name});}catch(error){dispatch(error);}case 1:case\"end\":return _context4.stop();}}},_callee4);}));return function setPayslipEndMonthDate(_x3){return _ref5.apply(this,arguments);};}();var setEditPayslipID=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:try{dispatch({type:SET_EDITPAYSLIPID,payload:id});}catch(error){dispatch(error);}case 1:case\"end\":return _context5.stop();}}},_callee5);}));return function setEditPayslipID(_x4){return _ref6.apply(this,arguments);};}();var getSinglePayslip=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id){var _yield$axios$get,data,singlepayslip;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:dispatch({type:GET_SINGLE_PAYSLIP_BEGIN});_context6.prev=1;_context6.next=4;return axios.get(\"\".concat(payslips_url,\"?id=\").concat(id));case 4:_yield$axios$get=_context6.sent;data=_yield$axios$get.data;singlepayslip=data;dispatch({type:GET_SINGLE_PAYSLIP_SUCCESS,payload:singlepayslip});_context6.next=13;break;case 10:_context6.prev=10;_context6.t0=_context6[\"catch\"](1);dispatch({type:GET_SINGLE_PAYSLIP_ERROR});case 13:case\"end\":return _context6.stop();}}},_callee6,null,[[1,10]]);}));return function getSinglePayslip(_x5){return _ref7.apply(this,arguments);};}();var addPayslip=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(data){var id,name,from_date,to_date,reason,no_of_days,status;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:id=data.id,name=data.name,from_date=data.from_date,to_date=data.to_date,reason=data.reason,no_of_days=data.no_of_days,status=data.status;//\ndispatch({type:ADD_PAYSLIP_BEGIN});_context7.prev=2;_context7.next=5;return fetch(payslips_url,{method:\"POST\",body:JSON.stringify(_objectSpread({},data))});case 5:dispatch({type:ADD_PAYSLIP_SUCCESS});_context7.next=11;break;case 8:_context7.prev=8;_context7.t0=_context7[\"catch\"](2);dispatch({type:ADD_PAYSLIP_ERROR});case 11:case\"end\":return _context7.stop();}}},_callee7,null,[[2,8]]);}));return function addPayslip(_x6){return _ref8.apply(this,arguments);};}();var updatePayslip=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(data){var id,fields;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:id=data.id,fields=_objectWithoutProperties(data,[\"id\"]);dispatch({type:UPDATE_PAYSLIP_BEGIN});_context8.prev=2;_context8.next=5;return fetch(payslips_url,{method:\"PUT\",body:JSON.stringify(_objectSpread({id:id},fields))});case 5:dispatch({type:UPDATE_PAYSLIP_SUCCESS});_context8.next=11;break;case 8:_context8.prev=8;_context8.t0=_context8[\"catch\"](2);dispatch({type:UPDATE_PAYSLIP_ERROR});case 11:case\"end\":return _context8.stop();}}},_callee8,null,[[2,8]]);}));return function updatePayslip(_x7){return _ref9.apply(this,arguments);};}();var deletePayslip=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(id){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:dispatch({type:DELETE_PAYSLIP_BEGIN});_context9.prev=1;_context9.next=4;return fetch(payslips_url,{method:\"DELETE\",body:JSON.stringify({id:id})});case 4:dispatch({type:DELETE_PAYSLIP_SUCCESS});loadPayslips();_context9.next=11;break;case 8:_context9.prev=8;_context9.t0=_context9[\"catch\"](1);dispatch({type:DELETE_PAYSLIP_ERROR});case 11:case\"end\":return _context9.stop();}}},_callee9,null,[[1,8]]);}));return function deletePayslip(_x8){return _ref10.apply(this,arguments);};}();//.... payslip earnings\nvar loadPayslipEarnings=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(){var res,payslipearnings;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:dispatch({type:GET_PAYSLIPEARNINGS_BEGIN});_context10.prev=1;_context10.next=4;return fetch(payslipearnings_url);case 4:res=_context10.sent;_context10.next=7;return res.json();case 7:payslipearnings=_context10.sent;dispatch({type:GET_PAYSLIPEARNINGS_SUCCESS,payload:payslipearnings});_context10.next=14;break;case 11:_context10.prev=11;_context10.t0=_context10[\"catch\"](1);dispatch({type:GET_PAYSLIPEARNINGS_ERROR});case 14:case\"end\":return _context10.stop();}}},_callee10,null,[[1,11]]);}));return function loadPayslipEarnings(){return _ref11.apply(this,arguments);};}();//.... payslip earnings\nvar getSingleBatchPayslipEarnings=/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(empid,period){var res,payslipearnings;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:console.log(\"getsinglebatch\",empid,period);dispatch({type:GET_PAYSLIPEARNINGS_BEGIN});_context11.prev=2;_context11.next=5;return fetch(\"\".concat(payslipearnings_url,\"?fv=\").concat(empid,\"&period=\").concat(period));case 5:res=_context11.sent;_context11.next=8;return res.json();case 8:payslipearnings=_context11.sent;dispatch({type:GET_PAYSLIPEARNINGS_SUCCESS,payload:payslipearnings});_context11.next=15;break;case 12:_context11.prev=12;_context11.t0=_context11[\"catch\"](2);dispatch({type:GET_PAYSLIPEARNINGS_ERROR});case 15:case\"end\":return _context11.stop();}}},_callee11,null,[[2,12]]);}));return function getSingleBatchPayslipEarnings(_x9,_x10){return _ref12.apply(this,arguments);};}();var addPayslipEarning=/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(data){var id,name,period,description,amount;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:id=data.id,name=data.name,period=data.period,description=data.description,amount=data.amount;//\ndispatch({type:ADD_PAYSLIPEARNING_BEGIN});_context12.prev=2;_context12.next=5;return fetch(payslipearnings_url,{method:\"POST\",body:JSON.stringify(_objectSpread({},data))});case 5:dispatch({type:ADD_PAYSLIPEARNING_SUCCESS});_context12.next=11;break;case 8:_context12.prev=8;_context12.t0=_context12[\"catch\"](2);dispatch({type:ADD_PAYSLIPEARNING_ERROR});case 11:case\"end\":return _context12.stop();}}},_callee12,null,[[2,8]]);}));return function addPayslipEarning(_x11){return _ref13.apply(this,arguments);};}();var updatePayslipEarning=/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(data){var id,fields;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:id=data.id,fields=_objectWithoutProperties(data,[\"id\"]);dispatch({type:UPDATE_PAYSLIPEARNING_BEGIN});_context13.prev=2;_context13.next=5;return fetch(payslipearnings_url,{method:\"PUT\",body:JSON.stringify(_objectSpread({id:id},fields))});case 5:dispatch({type:UPDATE_PAYSLIPEARNING_SUCCESS});_context13.next=11;break;case 8:_context13.prev=8;_context13.t0=_context13[\"catch\"](2);dispatch({type:UPDATE_PAYSLIPEARNING_ERROR});case 11:case\"end\":return _context13.stop();}}},_callee13,null,[[2,8]]);}));return function updatePayslipEarning(_x12){return _ref14.apply(this,arguments);};}();var deletePayslipEarning=/*#__PURE__*/function(){var _ref15=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(id){return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:dispatch({type:DELETE_PAYSLIPEARNING_BEGIN});_context14.prev=1;_context14.next=4;return fetch(payslipearnings_url,{method:\"DELETE\",body:JSON.stringify({id:id})});case 4:dispatch({type:DELETE_PAYSLIPEARNING_SUCCESS});_context14.next=10;break;case 7:_context14.prev=7;_context14.t0=_context14[\"catch\"](1);dispatch({type:DELETE_PAYSLIPEARNING_ERROR});case 10:case\"end\":return _context14.stop();}}},_callee14,null,[[1,7]]);}));return function deletePayslipEarning(_x13){return _ref15.apply(this,arguments);};}();//.... payslip deductions\nvar loadPayslipDeductions=/*#__PURE__*/function(){var _ref16=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(){var res,payslipdeductions;return _regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:dispatch({type:GET_PAYSLIPDEDUCTIONS_BEGIN});_context15.prev=1;_context15.next=4;return fetch(payslipdeductions_url);case 4:res=_context15.sent;_context15.next=7;return res.json();case 7:payslipdeductions=_context15.sent;dispatch({type:GET_PAYSLIPDEDUCTIONS_SUCCESS,payload:payslipdeductions});_context15.next=14;break;case 11:_context15.prev=11;_context15.t0=_context15[\"catch\"](1);dispatch({type:GET_PAYSLIPDEDUCTIONS_ERROR});case 14:case\"end\":return _context15.stop();}}},_callee15,null,[[1,11]]);}));return function loadPayslipDeductions(){return _ref16.apply(this,arguments);};}();var getSingleBatchPayslipDeductions=/*#__PURE__*/function(){var _ref17=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(empid,period){var res,payslipdeductions;return _regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:dispatch({type:GET_PAYSLIPDEDUCTIONS_BEGIN});_context16.prev=1;_context16.next=4;return fetch(\"\".concat(payslipdeductions_url,\"?fv=\").concat(empid,\"&period=\").concat(period));case 4:res=_context16.sent;_context16.next=7;return res.json();case 7:payslipdeductions=_context16.sent;dispatch({type:GET_PAYSLIPDEDUCTIONS_SUCCESS,payload:payslipdeductions});_context16.next=14;break;case 11:_context16.prev=11;_context16.t0=_context16[\"catch\"](1);dispatch({type:GET_PAYSLIPDEDUCTIONS_ERROR});case 14:case\"end\":return _context16.stop();}}},_callee16,null,[[1,11]]);}));return function getSingleBatchPayslipDeductions(_x14,_x15){return _ref17.apply(this,arguments);};}();var addPayslipDeduction=/*#__PURE__*/function(){var _ref18=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee17(data){var id,name,period,description,amount;return _regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:id=data.id,name=data.name,period=data.period,description=data.description,amount=data.amount;//\ndispatch({type:ADD_PAYSLIPDEDUCTION_BEGIN});_context17.prev=2;_context17.next=5;return fetch(payslipdeductions_url,{method:\"POST\",body:JSON.stringify(_objectSpread({},data))});case 5:dispatch({type:ADD_PAYSLIPDEDUCTION_SUCCESS});_context17.next=11;break;case 8:_context17.prev=8;_context17.t0=_context17[\"catch\"](2);dispatch({type:ADD_PAYSLIPDEDUCTION_ERROR});case 11:case\"end\":return _context17.stop();}}},_callee17,null,[[2,8]]);}));return function addPayslipDeduction(_x16){return _ref18.apply(this,arguments);};}();var updatePayslipDeduction=/*#__PURE__*/function(){var _ref19=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee18(data){var id,fields;return _regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:id=data.id,fields=_objectWithoutProperties(data,[\"id\"]);dispatch({type:UPDATE_PAYSLIPDEDUCTION_BEGIN});_context18.prev=2;_context18.next=5;return fetch(payslipdeductions_url,{method:\"PUT\",body:JSON.stringify(_objectSpread({id:id},fields))});case 5:dispatch({type:UPDATE_PAYSLIPDEDUCTION_SUCCESS});_context18.next=11;break;case 8:_context18.prev=8;_context18.t0=_context18[\"catch\"](2);dispatch({type:UPDATE_PAYSLIPDEDUCTION_ERROR});case 11:case\"end\":return _context18.stop();}}},_callee18,null,[[2,8]]);}));return function updatePayslipDeduction(_x17){return _ref19.apply(this,arguments);};}();var deletePayslipDeduction=/*#__PURE__*/function(){var _ref20=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee19(id){return _regeneratorRuntime.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:dispatch({type:DELETE_PAYSLIPDEDUCTION_BEGIN});_context19.prev=1;_context19.next=4;return fetch(payslipdeductions_url,{method:\"DELETE\",body:JSON.stringify({id:id})});case 4:dispatch({type:DELETE_PAYSLIPDEDUCTION_SUCCESS});_context19.next=10;break;case 7:_context19.prev=7;_context19.t0=_context19[\"catch\"](1);dispatch({type:DELETE_PAYSLIPDEDUCTION_ERROR});case 10:case\"end\":return _context19.stop();}}},_callee19,null,[[1,7]]);}));return function deletePayslipDeduction(_x18){return _ref20.apply(this,arguments);};}();return/*#__PURE__*/_jsx(PayslipsContext.Provider,{value:_objectSpread(_objectSpread({},state),{},{loadPayslips:loadPayslips,addPayslip:addPayslip,updatePayslip:updatePayslip,deletePayslip:deletePayslip,getSinglePayslip:getSinglePayslip,getSingleBatchPayslip:getSingleBatchPayslip,setEditPayslipID:setEditPayslipID,setIsPayslipEditingOn:setIsPayslipEditingOn,setIsPayslipEditingOff:setIsPayslipEditingOff,loadPayslipEarnings:loadPayslipEarnings,addPayslipEarning:addPayslipEarning,updatePayslipEarning:updatePayslipEarning,deletePayslipEarning:deletePayslipEarning,getSingleBatchPayslipEarnings:getSingleBatchPayslipEarnings,setPayslipEarningAmount:setPayslipEarningAmount,loadPayslipDeductions:loadPayslipDeductions,addPayslipDeduction:addPayslipDeduction,updatePayslipDeduction:updatePayslipDeduction,deletePayslipDeduction:deletePayslipDeduction,getSingleBatchPayslipDeductions:getSingleBatchPayslipDeductions,setPayslipDeductionAmount:setPayslipDeductionAmount,resetSinglePayslip:resetSinglePayslip,setPayslipPeriod:setPayslipPeriod,setPayslipEndMonthDate:setPayslipEndMonthDate}),children:children});};export var usePayslipsContext=function usePayslipsContext(){return useContext(PayslipsContext);};","map":{"version":3,"sources":["D:/react-myprojects/hrms-airtable/src/context/payslips_context.js"],"names":["React","useContext","useEffect","useReducer","axios","reducer","payslips_url","payslipearnings_url","payslipdeductions_url","SET_EDITPAYSLIPID","SET_ISPAYSLIPEDITING_ON","SET_ISPAYSLIPEDITING_OFF","SET_PAYSLIP_PERIOD","SET_PAYSLIP_ENDMONTHDATE","SET_SINGLEPAYSLIP","SET_PAYSLIPEARNING_AMOUNT","SET_PAYSLIPDEDUCTION_AMOUNT","GET_PAYSLIPS_BEGIN","GET_PAYSLIPS_SUCCESS","GET_PAYSLIPS_ERROR","GET_SINGLE_PAYSLIP_BEGIN","GET_SINGLE_PAYSLIP_SUCCESS","GET_SINGLE_PAYSLIP_ERROR","GET_SINGLEBATCH_PAYSLIP_BEGIN","GET_SINGLEBATCH_PAYSLIP_SUCCESS","GET_SINGLEBATCH_PAYSLIP_ERROR","ADD_PAYSLIP_BEGIN","ADD_PAYSLIP_SUCCESS","ADD_PAYSLIP_ERROR","DELETE_PAYSLIP_BEGIN","DELETE_PAYSLIP_SUCCESS","DELETE_PAYSLIP_ERROR","UPDATE_PAYSLIP_BEGIN","UPDATE_PAYSLIP_SUCCESS","UPDATE_PAYSLIP_ERROR","RESET_SINGLE_PAYSLIP","GET_PAYSLIPEARNINGS_BEGIN","GET_PAYSLIPEARNINGS_SUCCESS","GET_PAYSLIPEARNINGS_ERROR","GET_SINGLE_PAYSLIPEARNING_BEGIN","GET_SINGLE_PAYSLIPEARNING_SUCCESS","GET_SINGLE_PAYSLIPEARNING_ERROR","ADD_PAYSLIPEARNING_BEGIN","ADD_PAYSLIPEARNING_SUCCESS","ADD_PAYSLIPEARNING_ERROR","DELETE_PAYSLIPEARNING_BEGIN","DELETE_PAYSLIPEARNING_SUCCESS","DELETE_PAYSLIPEARNING_ERROR","UPDATE_PAYSLIPEARNING_BEGIN","UPDATE_PAYSLIPEARNING_SUCCESS","UPDATE_PAYSLIPEARNING_ERROR","GET_PAYSLIPDEDUCTIONS_BEGIN","GET_PAYSLIPDEDUCTIONS_SUCCESS","GET_PAYSLIPDEDUCTIONS_ERROR","GET_SINGLE_PAYSLIPDEDUCTION_BEGIN","GET_SINGLE_PAYSLIPDEDUCTION_SUCCESS","GET_SINGLE_PAYSLIPDEDUCTION_ERROR","ADD_PAYSLIPDEDUCTION_BEGIN","ADD_PAYSLIPDEDUCTION_SUCCESS","ADD_PAYSLIPDEDUCTION_ERROR","DELETE_PAYSLIPDEDUCTION_BEGIN","DELETE_PAYSLIPDEDUCTION_SUCCESS","DELETE_PAYSLIPDEDUCTION_ERROR","UPDATE_PAYSLIPDEDUCTION_BEGIN","UPDATE_PAYSLIPDEDUCTION_SUCCESS","UPDATE_PAYSLIPDEDUCTION_ERROR","initialState","isPayslipEditing","alertPayslip","show","msg","type","editPayslipID","payslips_loading","payslips_error","payslip_period","payslip_endmonthdate","payslip_earning_amount","payslip_deduction_amount","payslips","single_payslip_loading","single_payslip_error","single_payslip","singlebatch_payslip_loading","singlebatch_payslip_error","singlebatch_payslip","delete_payslip_loading","delete_payslip_error","update_payslip_loading","update_payslip_error","add_payslip_loading","add_payslip_error","isPayslipEarningEditing","alertPayslipEarning","editPayslipEarningID","payslipearnings_loading","payslipearnings_error","payslipearnings","single_payslipearning_loading","single_payslipearning_error","single_payslipearning","delete_payslipearning_loading","delete_payslipearning_error","update_payslipearning_loading","update_payslipearning_error","add_payslipearning_loading","add_payslipearning_error","isPayslipDeductionEditing","alertPayslipDeduction","editPayslipDeductionID","payslipdeductions_loading","payslipdeductions_error","payslipdeductions","single_payslipdeduction_loading","single_payslipdeduction_error","single_payslipdeduction","delete_payslipdeduction_loading","delete_payslipdeduction_error","update_payslipdeduction_loading","update_payslipdeduction_error","add_payslipdeduction_loading","add_payslipdeduction_error","PayslipsContext","createContext","PayslipsProvider","children","state","dispatch","loadPayslips","fetch","res","json","payload","getSingleBatchPayslip","period","console","log","singlebatchpayslip","setIsPayslipEditingOn","setIsPayslipEditingOff","resetSinglePayslip","setPayslipEarningAmount","value","setPayslipDeductionAmount","setPayslipPeriod","name","error","setPayslipEndMonthDate","setEditPayslipID","id","getSinglePayslip","get","data","singlepayslip","addPayslip","from_date","to_date","reason","no_of_days","status","method","body","JSON","stringify","updatePayslip","fields","deletePayslip","loadPayslipEarnings","getSingleBatchPayslipEarnings","empid","addPayslipEarning","description","amount","updatePayslipEarning","deletePayslipEarning","loadPayslipDeductions","getSingleBatchPayslipDeductions","addPayslipDeduction","updatePayslipDeduction","deletePayslipDeduction","usePayslipsContext"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useReducer } from \"react\";\r\nimport axios from \"axios\";\r\nimport reducer from \"../reducers/payslips_reducer\";\r\nimport { payslips_url } from \"../utils/constants\";\r\nimport { payslipearnings_url } from \"../utils/constants\";\r\nimport { payslipdeductions_url } from \"../utils/constants\";\r\n\r\nimport {\r\n  SET_EDITPAYSLIPID,\r\n  SET_ISPAYSLIPEDITING_ON,\r\n  SET_ISPAYSLIPEDITING_OFF,\r\n  SET_PAYSLIP_PERIOD,\r\n  SET_PAYSLIP_ENDMONTHDATE,\r\n  SET_SINGLEPAYSLIP,\r\n  SET_PAYSLIPEARNING_AMOUNT,\r\n  SET_PAYSLIPDEDUCTION_AMOUNT,\r\n  GET_PAYSLIPS_BEGIN,\r\n  GET_PAYSLIPS_SUCCESS,\r\n  GET_PAYSLIPS_ERROR,\r\n  GET_SINGLE_PAYSLIP_BEGIN,\r\n  GET_SINGLE_PAYSLIP_SUCCESS,\r\n  GET_SINGLE_PAYSLIP_ERROR,\r\n  GET_SINGLEBATCH_PAYSLIP_BEGIN,\r\n  GET_SINGLEBATCH_PAYSLIP_SUCCESS,\r\n  GET_SINGLEBATCH_PAYSLIP_ERROR,\r\n  ADD_PAYSLIP_BEGIN,\r\n  ADD_PAYSLIP_SUCCESS,\r\n  ADD_PAYSLIP_ERROR,\r\n  DELETE_PAYSLIP_BEGIN,\r\n  DELETE_PAYSLIP_SUCCESS,\r\n  DELETE_PAYSLIP_ERROR,\r\n  UPDATE_PAYSLIP_BEGIN,\r\n  UPDATE_PAYSLIP_SUCCESS,\r\n  UPDATE_PAYSLIP_ERROR,\r\n  RESET_SINGLE_PAYSLIP,\r\n  GET_PAYSLIPEARNINGS_BEGIN,\r\n  GET_PAYSLIPEARNINGS_SUCCESS,\r\n  GET_PAYSLIPEARNINGS_ERROR,\r\n  GET_SINGLE_PAYSLIPEARNING_BEGIN,\r\n  GET_SINGLE_PAYSLIPEARNING_SUCCESS,\r\n  GET_SINGLE_PAYSLIPEARNING_ERROR,\r\n  ADD_PAYSLIPEARNING_BEGIN,\r\n  ADD_PAYSLIPEARNING_SUCCESS,\r\n  ADD_PAYSLIPEARNING_ERROR,\r\n  DELETE_PAYSLIPEARNING_BEGIN,\r\n  DELETE_PAYSLIPEARNING_SUCCESS,\r\n  DELETE_PAYSLIPEARNING_ERROR,\r\n  UPDATE_PAYSLIPEARNING_BEGIN,\r\n  UPDATE_PAYSLIPEARNING_SUCCESS,\r\n  UPDATE_PAYSLIPEARNING_ERROR,\r\n  GET_PAYSLIPDEDUCTIONS_BEGIN,\r\n  GET_PAYSLIPDEDUCTIONS_SUCCESS,\r\n  GET_PAYSLIPDEDUCTIONS_ERROR,\r\n  GET_SINGLE_PAYSLIPDEDUCTION_BEGIN,\r\n  GET_SINGLE_PAYSLIPDEDUCTION_SUCCESS,\r\n  GET_SINGLE_PAYSLIPDEDUCTION_ERROR,\r\n  ADD_PAYSLIPDEDUCTION_BEGIN,\r\n  ADD_PAYSLIPDEDUCTION_SUCCESS,\r\n  ADD_PAYSLIPDEDUCTION_ERROR,\r\n  DELETE_PAYSLIPDEDUCTION_BEGIN,\r\n  DELETE_PAYSLIPDEDUCTION_SUCCESS,\r\n  DELETE_PAYSLIPDEDUCTION_ERROR,\r\n  UPDATE_PAYSLIPDEDUCTION_BEGIN,\r\n  UPDATE_PAYSLIPDEDUCTION_SUCCESS,\r\n  UPDATE_PAYSLIPDEDUCTION_ERROR,\r\n} from \"../actions\";\r\n\r\nconst initialState = {\r\n  isPayslipEditing: false,\r\n  alertPayslip: { show: false, msg: \"\", type: \"\" },\r\n  editPayslipID: null,\r\n  payslips_loading: false,\r\n  payslips_error: false,\r\n  payslip_period: \"\",\r\n  payslip_endmonthdate: \"\",\r\n  payslip_earning_amount: 0,\r\n  payslip_deduction_amount: 0,\r\n  payslips: [],\r\n  single_payslip_loading: false,\r\n  single_payslip_error: false,\r\n  single_payslip: {},\r\n  singlebatch_payslip_loading: false,\r\n  singlebatch_payslip_error: false,\r\n  singlebatch_payslip: {},\r\n  delete_payslip_loading: false,\r\n  delete_payslip_error: false,\r\n  update_payslip_loading: false,\r\n  update_payslip_error: false,\r\n  add_payslip_loading: false,\r\n  add_payslip_error: false,\r\n  // filterValue: \"Female\",\r\n  // filterfield: \"gender\",\r\n  // payslip earnings\r\n  isPayslipEarningEditing: false,\r\n  alertPayslipEarning: { show: false, msg: \"\", type: \"\" },\r\n  editPayslipEarningID: null,\r\n  payslipearnings_loading: false,\r\n  payslipearnings_error: false,\r\n  payslipearnings: [],\r\n\r\n  single_payslipearning_loading: false,\r\n  single_payslipearning_error: false,\r\n  single_payslipearning: {},\r\n  delete_payslipearning_loading: false,\r\n  delete_payslipearning_error: false,\r\n  update_payslipearning_loading: false,\r\n  update_payslipearning_error: false,\r\n  add_payslipearning_loading: false,\r\n  add_payslipearning_error: false,\r\n  // payslip deductions\r\n  isPayslipDeductionEditing: false,\r\n  alertPayslipDeduction: { show: false, msg: \"\", type: \"\" },\r\n  editPayslipDeductionID: null,\r\n  payslipdeductions_loading: false,\r\n  payslipdeductions_error: false,\r\n  payslipdeductions: [],\r\n  single_payslipdeduction_loading: false,\r\n  single_payslipdeduction_error: false,\r\n  single_payslipdeduction: {},\r\n  delete_payslipdeduction_loading: false,\r\n  delete_payslipdeduction_error: false,\r\n  update_payslipdeduction_loading: false,\r\n  update_payslipdeduction_error: false,\r\n  add_payslipdeduction_loading: false,\r\n  add_payslipdeduction_error: false,\r\n};\r\n\r\nconst PayslipsContext = React.createContext();\r\n\r\nexport const PayslipsProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  //....... payslip\r\n  const loadPayslips = async () => {\r\n    dispatch({ type: GET_PAYSLIPS_BEGIN });\r\n    try {\r\n      // const res = await fetch(\r\n      //   `${employees_url}?filterValue=\"${state.filterValue}\"&filterField=\"${state.filterField}\"`\r\n      // );\r\n      const res = await fetch(payslips_url);\r\n      //const { data } = await axios.get(employees_url);\r\n      //const employees = data;\r\n      const payslips = await res.json();\r\n      dispatch({ type: GET_PAYSLIPS_SUCCESS, payload: payslips });\r\n    } catch (error) {\r\n      dispatch({ type: GET_PAYSLIPS_ERROR });\r\n    }\r\n  };\r\n\r\n  const getSingleBatchPayslip = async (period) => {\r\n    dispatch({ type: GET_SINGLEBATCH_PAYSLIP_BEGIN });\r\n    try {\r\n      const res = await fetch(`${payslips_url}?fv=${period}`);\r\n      console.log(`${payslips_url}?fv=${period}`);\r\n      const singlebatchpayslip = await res.json();\r\n\r\n      dispatch({\r\n        type: GET_SINGLEBATCH_PAYSLIP_SUCCESS,\r\n        payload: singlebatchpayslip,\r\n      });\r\n    } catch (error) {\r\n      dispatch({ type: GET_SINGLEBATCH_PAYSLIP_ERROR });\r\n    }\r\n  };\r\n\r\n  const setIsPayslipEditingOn = () => {\r\n    dispatch({ type: SET_ISPAYSLIPEDITING_ON });\r\n  };\r\n\r\n  const setIsPayslipEditingOff = () => {\r\n    dispatch({ type: SET_ISPAYSLIPEDITING_OFF });\r\n  };\r\n\r\n  const resetSinglePayslip = () => {\r\n    dispatch({ type: RESET_SINGLE_PAYSLIP });\r\n  };\r\n\r\n  const setPayslipEarningAmount = (value) => {\r\n    dispatch({ type: SET_PAYSLIPEARNING_AMOUNT, payload: value });\r\n  };\r\n  const setPayslipDeductionAmount = (value) => {\r\n    dispatch({ type: SET_PAYSLIPDEDUCTION_AMOUNT, payload: value });\r\n  };\r\n\r\n  const setPayslipPeriod = async (name) => {\r\n    try {\r\n      dispatch({ type: SET_PAYSLIP_PERIOD, payload: name });\r\n    } catch (error) {\r\n      dispatch(error);\r\n    }\r\n  };\r\n  const setPayslipEndMonthDate = async (name) => {\r\n    try {\r\n      dispatch({ type: SET_PAYSLIP_ENDMONTHDATE, payload: name });\r\n    } catch (error) {\r\n      dispatch(error);\r\n    }\r\n  };\r\n\r\n  const setEditPayslipID = async (id) => {\r\n    try {\r\n      dispatch({ type: SET_EDITPAYSLIPID, payload: id });\r\n    } catch (error) {\r\n      dispatch(error);\r\n    }\r\n  };\r\n\r\n  const getSinglePayslip = async (id) => {\r\n    dispatch({ type: GET_SINGLE_PAYSLIP_BEGIN });\r\n    try {\r\n      const { data } = await axios.get(`${payslips_url}?id=${id}`);\r\n      const singlepayslip = data;\r\n      dispatch({ type: GET_SINGLE_PAYSLIP_SUCCESS, payload: singlepayslip });\r\n    } catch (error) {\r\n      dispatch({ type: GET_SINGLE_PAYSLIP_ERROR });\r\n    }\r\n  };\r\n\r\n  const addPayslip = async (data) => {\r\n    const { id, name, from_date, to_date, reason, no_of_days, status } = data;\r\n    //\r\n    dispatch({ type: ADD_PAYSLIP_BEGIN });\r\n    try {\r\n      await fetch(payslips_url, {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ ...data }),\r\n      });\r\n      dispatch({ type: ADD_PAYSLIP_SUCCESS });\r\n    } catch (err) {\r\n      dispatch({ type: ADD_PAYSLIP_ERROR });\r\n    }\r\n  };\r\n\r\n  const updatePayslip = async (data) => {\r\n    const { id, ...fields } = data;\r\n\r\n    dispatch({ type: UPDATE_PAYSLIP_BEGIN });\r\n    try {\r\n      await fetch(payslips_url, {\r\n        method: \"PUT\",\r\n        body: JSON.stringify({ id, ...fields }),\r\n      });\r\n      dispatch({ type: UPDATE_PAYSLIP_SUCCESS });\r\n    } catch (error) {\r\n      dispatch({ type: UPDATE_PAYSLIP_ERROR });\r\n    }\r\n  };\r\n\r\n  const deletePayslip = async (id) => {\r\n    dispatch({ type: DELETE_PAYSLIP_BEGIN });\r\n    try {\r\n      await fetch(payslips_url, {\r\n        method: \"DELETE\",\r\n        body: JSON.stringify({ id: id }),\r\n      });\r\n      dispatch({ type: DELETE_PAYSLIP_SUCCESS });\r\n      loadPayslips();\r\n    } catch (err) {\r\n      dispatch({ type: DELETE_PAYSLIP_ERROR });\r\n    }\r\n  };\r\n\r\n  //.... payslip earnings\r\n  const loadPayslipEarnings = async () => {\r\n    dispatch({ type: GET_PAYSLIPEARNINGS_BEGIN });\r\n    try {\r\n      // const res = await fetch(\r\n      //   `${employees_url}?filterValue=\"${state.filterValue}\"&filterField=\"${state.filterField}\"`\r\n      // );\r\n      const res = await fetch(payslipearnings_url);\r\n      //const { data } = await axios.get(employees_url);\r\n      //const employees = data;\r\n      const payslipearnings = await res.json();\r\n      dispatch({ type: GET_PAYSLIPEARNINGS_SUCCESS, payload: payslipearnings });\r\n    } catch (error) {\r\n      dispatch({ type: GET_PAYSLIPEARNINGS_ERROR });\r\n    }\r\n  };\r\n  //.... payslip earnings\r\n  const getSingleBatchPayslipEarnings = async (empid, period) => {\r\n    console.log(\"getsinglebatch\", empid, period);\r\n    dispatch({ type: GET_PAYSLIPEARNINGS_BEGIN });\r\n    try {\r\n      // const res = await fetch(\r\n      //   `${employees_url}?filterValue=\"${state.filterValue}\"&filterField=\"${state.filterField}\"`\r\n      // );\r\n      const res = await fetch(\r\n        `${payslipearnings_url}?fv=${empid}&period=${period}`\r\n      );\r\n      //const { data } = await axios.get(employees_url);\r\n      //const employees = data;\r\n      const payslipearnings = await res.json();\r\n      dispatch({ type: GET_PAYSLIPEARNINGS_SUCCESS, payload: payslipearnings });\r\n    } catch (error) {\r\n      dispatch({ type: GET_PAYSLIPEARNINGS_ERROR });\r\n    }\r\n  };\r\n  const addPayslipEarning = async (data) => {\r\n    const { id, name, period, description, amount } = data;\r\n    //\r\n    dispatch({ type: ADD_PAYSLIPEARNING_BEGIN });\r\n    try {\r\n      await fetch(payslipearnings_url, {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ ...data }),\r\n      });\r\n      dispatch({ type: ADD_PAYSLIPEARNING_SUCCESS });\r\n    } catch (err) {\r\n      dispatch({ type: ADD_PAYSLIPEARNING_ERROR });\r\n    }\r\n  };\r\n\r\n  const updatePayslipEarning = async (data) => {\r\n    const { id, ...fields } = data;\r\n\r\n    dispatch({ type: UPDATE_PAYSLIPEARNING_BEGIN });\r\n    try {\r\n      await fetch(payslipearnings_url, {\r\n        method: \"PUT\",\r\n        body: JSON.stringify({ id, ...fields }),\r\n      });\r\n      dispatch({ type: UPDATE_PAYSLIPEARNING_SUCCESS });\r\n    } catch (error) {\r\n      dispatch({ type: UPDATE_PAYSLIPEARNING_ERROR });\r\n    }\r\n  };\r\n\r\n  const deletePayslipEarning = async (id) => {\r\n    dispatch({ type: DELETE_PAYSLIPEARNING_BEGIN });\r\n    try {\r\n      await fetch(payslipearnings_url, {\r\n        method: \"DELETE\",\r\n        body: JSON.stringify({ id: id }),\r\n      });\r\n      dispatch({ type: DELETE_PAYSLIPEARNING_SUCCESS });\r\n    } catch (err) {\r\n      dispatch({ type: DELETE_PAYSLIPEARNING_ERROR });\r\n    }\r\n  };\r\n\r\n  //.... payslip deductions\r\n  const loadPayslipDeductions = async () => {\r\n    dispatch({ type: GET_PAYSLIPDEDUCTIONS_BEGIN });\r\n    try {\r\n      // const res = await fetch(\r\n      //   `${employees_url}?filterValue=\"${state.filterValue}\"&filterField=\"${state.filterField}\"`\r\n      // );\r\n      const res = await fetch(payslipdeductions_url);\r\n      //const { data } = await axios.get(employees_url);\r\n      //const employees = data;\r\n      const payslipdeductions = await res.json();\r\n      dispatch({\r\n        type: GET_PAYSLIPDEDUCTIONS_SUCCESS,\r\n        payload: payslipdeductions,\r\n      });\r\n    } catch (error) {\r\n      dispatch({ type: GET_PAYSLIPDEDUCTIONS_ERROR });\r\n    }\r\n  };\r\n  const getSingleBatchPayslipDeductions = async (empid, period) => {\r\n    dispatch({ type: GET_PAYSLIPDEDUCTIONS_BEGIN });\r\n    try {\r\n      // const res = await fetch(\r\n      //   `${employees_url}?filterValue=\"${state.filterValue}\"&filterField=\"${state.filterField}\"`\r\n      // );\r\n      const res = await fetch(\r\n        `${payslipdeductions_url}?fv=${empid}&period=${period}`\r\n      );\r\n      //const { data } = await axios.get(employees_url);\r\n      //const employees = data;\r\n      const payslipdeductions = await res.json();\r\n      dispatch({\r\n        type: GET_PAYSLIPDEDUCTIONS_SUCCESS,\r\n        payload: payslipdeductions,\r\n      });\r\n    } catch (error) {\r\n      dispatch({ type: GET_PAYSLIPDEDUCTIONS_ERROR });\r\n    }\r\n  };\r\n  const addPayslipDeduction = async (data) => {\r\n    const { id, name, period, description, amount } = data;\r\n    //\r\n    dispatch({ type: ADD_PAYSLIPDEDUCTION_BEGIN });\r\n    try {\r\n      await fetch(payslipdeductions_url, {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ ...data }),\r\n      });\r\n      dispatch({ type: ADD_PAYSLIPDEDUCTION_SUCCESS });\r\n    } catch (err) {\r\n      dispatch({ type: ADD_PAYSLIPDEDUCTION_ERROR });\r\n    }\r\n  };\r\n\r\n  const updatePayslipDeduction = async (data) => {\r\n    const { id, ...fields } = data;\r\n\r\n    dispatch({ type: UPDATE_PAYSLIPDEDUCTION_BEGIN });\r\n    try {\r\n      await fetch(payslipdeductions_url, {\r\n        method: \"PUT\",\r\n        body: JSON.stringify({ id, ...fields }),\r\n      });\r\n      dispatch({ type: UPDATE_PAYSLIPDEDUCTION_SUCCESS });\r\n    } catch (error) {\r\n      dispatch({ type: UPDATE_PAYSLIPDEDUCTION_ERROR });\r\n    }\r\n  };\r\n\r\n  const deletePayslipDeduction = async (id) => {\r\n    dispatch({ type: DELETE_PAYSLIPDEDUCTION_BEGIN });\r\n    try {\r\n      await fetch(payslipdeductions_url, {\r\n        method: \"DELETE\",\r\n        body: JSON.stringify({ id: id }),\r\n      });\r\n      dispatch({ type: DELETE_PAYSLIPDEDUCTION_SUCCESS });\r\n    } catch (err) {\r\n      dispatch({ type: DELETE_PAYSLIPDEDUCTION_ERROR });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PayslipsContext.Provider\r\n      value={{\r\n        ...state,\r\n        loadPayslips,\r\n        addPayslip,\r\n        updatePayslip,\r\n        deletePayslip,\r\n        getSinglePayslip,\r\n        getSingleBatchPayslip,\r\n        setEditPayslipID,\r\n        setIsPayslipEditingOn,\r\n        setIsPayslipEditingOff,\r\n        loadPayslipEarnings,\r\n        addPayslipEarning,\r\n        updatePayslipEarning,\r\n        deletePayslipEarning,\r\n        getSingleBatchPayslipEarnings,\r\n        setPayslipEarningAmount,\r\n        loadPayslipDeductions,\r\n        addPayslipDeduction,\r\n        updatePayslipDeduction,\r\n        deletePayslipDeduction,\r\n        getSingleBatchPayslipDeductions,\r\n        setPayslipDeductionAmount,\r\n        resetSinglePayslip,\r\n        setPayslipPeriod,\r\n        setPayslipEndMonthDate,\r\n      }}\r\n    >\r\n      {children}\r\n    </PayslipsContext.Provider>\r\n  );\r\n};\r\n\r\nexport const usePayslipsContext = () => {\r\n  return useContext(PayslipsContext);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}